\documentclass[border=5pt,multi=tikzpicture]{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.15}

% color palette
\definecolor{tu01}{HTML}{84B818}
\definecolor{tu02}{HTML}{D18B12}
\definecolor{tu03}{HTML}{1BB5B5}
\definecolor{tu04}{HTML}{F85A3E}
\definecolor{tu05}{HTML}{4B6CFC}
\colorlet{tu01midlight}{tu01!60}
\colorlet{tu02midlight}{tu02!60}
\colorlet{tu03midlight}{tu03!60}
\colorlet{tu04midlight}{tu04!60}
\colorlet{tu05midlight}{tu05!60}

% \inspectplot{<legend>}{<style>}{<column>}{<path>}
\newcommand{\inspectplot}[4]{%
  \addplot[
    #2
  ] table [
    col sep = comma,
    x = {threshold},
    y = {#3}
  ] {results/inspect_objectives_#4.csv}; % add the plot
  \addlegendentry{#1}
}

% \inspectaxis{<title>}{<dataset ID>}
\newcommand{\inspectaxis}[2]{%
  \begin{tikzpicture}
  \begin{axis}[ % left y axis: F1 scores
      title={#1},
      legend style={at={(1.1,1.)}, anchor=north west},
      axis y line*=left
      ]
    % clean F1: training and test
    \inspectplot{clean training F1}{tu01}{f1_trn}{#2}
    \inspectplot{clean test F1}{tu01!50}{f1_tst}{#2}

    % F1 OOB training set estimates by Menon et al. (2015)
    \inspectplot{Menon CK-CCN}{tu02, dotted}{f1_trn_ckccn}{#2}
    \inspectplot{Menon PK-CCN}{tu02}{f1_trn_pkccn}{#2}
    \inspectplot{Menon CU-CCN}{tu02!50}{f1_trn_cuccn}{#2}
  \end{axis}
  \begin{axis}[ % right y axis: Li&Ma scores
      legend style={at={(1.1,0.)}, anchor=south west},
      axis y line*=right,
      axis x line=none
      ]
    \inspectplot{Li\&Ma PK-CCN}{tu03}{lima_trn}{#2}
    \inspectplot{Li\&Ma PK-CCN}{tu03!50}{lima_tst}{#2}
  \end{axis}
  \end{tikzpicture}
}

\begin{document}
  \inspectaxis{ecoli}{ecoli}
  \inspectaxis{optical\_digits}{optical_digits}
  \inspectaxis{satimage}{satimage}
  \inspectaxis{pen\_digits}{pen_digits}
  \inspectaxis{abalone}{abalone}
  \inspectaxis{sick\_euthyroid}{sick_euthyroid}
  \inspectaxis{spectrometer}{spectrometer}
  \inspectaxis{car\_eval\_34}{car_eval_34}
  \inspectaxis{isolet}{isolet}
  \inspectaxis{us\_crime}{us_crime}
  \inspectaxis{yeast\_ml8}{yeast_ml8}
  \inspectaxis{scene}{scene}
  \inspectaxis{libras\_move}{libras_move}
  \inspectaxis{thyroid\_sick}{thyroid_sick}
  \inspectaxis{coil\_2000}{coil_2000}
  \inspectaxis{arrhythmia}{arrhythmia}
  \inspectaxis{solar\_flare\_m0}{solar_flare_m0}
  \inspectaxis{oil}{oil}
  \inspectaxis{car\_eval\_4}{car_eval_4}
  \inspectaxis{wine\_quality}{wine_quality}
  \inspectaxis{letter\_img}{letter_img}
  \inspectaxis{yeast\_me2}{yeast_me2}
  \inspectaxis{webpage}{webpage}
  \inspectaxis{ozone\_level}{ozone_level}
  \inspectaxis{mammography}{mammography}
  \inspectaxis{protein\_homo}{protein_homo}
  \inspectaxis{abalone\_19}{abalone_19}

  % \inspectaxis{TEST ecoli}{test_ecoli}
  % \inspectaxis{TEST yeast\_me2}{test_yeast_me2}
\end{document}
