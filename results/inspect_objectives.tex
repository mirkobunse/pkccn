\documentclass[border=5pt,multi=tikzpicture]{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.15}

% color palette
\definecolor{tu01}{HTML}{84B818}
\definecolor{tu02}{HTML}{D18B12}
\definecolor{tu03}{HTML}{1BB5B5}
\definecolor{tu04}{HTML}{F85A3E}
\definecolor{tu05}{HTML}{4B6CFC}
\colorlet{tu01midlight}{tu01!60}
\colorlet{tu02midlight}{tu02!60}
\colorlet{tu03midlight}{tu03!60}
\colorlet{tu04midlight}{tu04!60}
\colorlet{tu05midlight}{tu05!60}

% \inspectplot{<legend>}{<style>}{<column>}{<path>}
\newcommand{\inspectplot}[4]{%
  \addplot[
    #2
  ] table [
    col sep = comma,
    x = {threshold},
    y = {#3}
  ] {results/inspect_objectives_#4.csv}; % add the plot
  \addlegendentry{#1}
}

% \inspectaxis{<title>}{<dataset ID>}
\newcommand{\inspectaxis}[2]{%
  \begin{tikzpicture}
  \begin{axis}[
      title={#1},
      legend style={at={(1.1,1.)}, anchor=north west},
      axis y line*=left
      ]
    % \inspectplot{noisy training accuracy}{tu01}{accuracy_trn_hat}{#2} % accuracy
    % \inspectplot{noisy test accuracy}{tu01!50}{accuracy_tst_hat}{#2}
    % \inspectplot{clean training accuracy}{tu01, dotted}{accuracy_trn}{#2}
    % \inspectplot{clean test accuracy}{tu01, dashed}{accuracy_tst}{#2}
    \inspectplot{noisy training F1 score}{tu03}{f1_trn_hat}{#2} % F1 score
    \inspectplot{noisy test F1 score}{tu03!50}{f1_tst_hat}{#2}
    % \inspectplot{clean training F1 score}{tu03, dotted}{f1_trn}{#2}
    \inspectplot{clean test F1 score}{tu03, dashed}{f1_tst}{#2}
  \end{axis}
  \begin{axis}[
      legend style={at={(1.1,0.)}, anchor=south west},
      axis y line*=right,
      axis x line=none
      ]
    \inspectplot{noisy training Li \& Ma}{tu02}{lima_trn_hat}{#2} % Li & Ma
    \inspectplot{noisy test Li \& Ma}{tu02!50}{lima_tst_hat}{#2}
    % \inspectplot{clean training Li \& Ma}{tu02, dotted}{lima_trn}{#2}
    \inspectplot{clean test Li \& Ma}{tu02, dashed}{lima_tst}{#2}
  \end{axis}
  \end{tikzpicture}
}

\begin{document}
  \inspectaxis{letter\_img}{letter_img}
  \inspectaxis{pen\_digits}{pen_digits}
  \inspectaxis{car\_eval\_4}{car_eval_4}
  \inspectaxis{optical\_digits}{optical_digits}
  \inspectaxis{thyroid\_sick}{thyroid_sick}
  \inspectaxis{isolet}{isolet}
  \inspectaxis{sick\_euthyroid}{sick_euthyroid}
  \inspectaxis{car\_eval\_34}{car_eval_34}
  \inspectaxis{spectrometer}{spectrometer}
  \inspectaxis{protein\_homo}{protein_homo}
  \inspectaxis{libras\_move}{libras_move}
  \inspectaxis{arrhythmia}{arrhythmia}
  \inspectaxis{webpage}{webpage}
  \inspectaxis{satimage}{satimage}
  \inspectaxis{yeast\_me2}{yeast_me2}
  \inspectaxis{mammography}{mammography}
  \inspectaxis{ecoli}{ecoli}
  \inspectaxis{us\_crime}{us_crime}
  \inspectaxis{oil}{oil}
  \inspectaxis{ozone\_level}{ozone_level}

  % \inspectaxis{TEST ecoli}{test_ecoli}
  % \inspectaxis{TEST yeast\_me2}{test_yeast_me2}
\end{document}
